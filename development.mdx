---
title: 'Development'
description: 'How to set up and develop the PreLaunch project'
---

<Info>
  **Prerequisite**: Please install Node.js (version 16 or higher) and npm, yarn, or pnpm.
</Info>

## Technology Stack

PreLaunch is built with the following core technologies:

- **Frontend Framework**: Next.js 14 (App Router)
- **UI Frameworks**: Tailwind CSS, DaisyUI, Radix UI
- **State Management**: React Hooks
- **Form Handling**: React Hook Form + Zod
- **Internationalization**: next-intl
- **Database**: Supabase (PostgreSQL)
- **Authentication**: NextAuth.js
- **Payment Processing**: Paddle

## Development Environment Setup

### Step 1: Clone and Install

Clone the repository and install dependencies:

```bash
git clone https://github.com/MapleShaw/prelaunch.git
cd prelaunch
npm install
```

### Step 2: Environment Configuration

Copy the `.env.local.example` file to `.env.local`:

```bash
cp .env.local.example .env.local
```

Configure necessary environment variables in `.env.local`:

```
# Basic configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret

# Supabase configuration
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url-here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here
```

### Step 3: Start Development Server

```bash
npm run dev
```

The project will be available at `http://localhost:3000`.

## Supabase Database Configuration

PreLaunch uses Supabase as the primary database for storing users, products, and subscription data.

### Setting Up Supabase

1. Create a [Supabase](https://supabase.com/) account
2. Create a new project
3. Note down the URL and anonymous key, add them to your `.env.local` file:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://<your-project-id>.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   ```

### Core Database Tables

PreLaunch requires the following core tables:

#### Waitlist Table

```sql
create table
  public.waitlist (
    id uuid not null default uuid_generate_v4(),
    email text not null,
    name text null,
    created_at timestamp with time zone not null default now(),
    source text null,
    constraint waitlist_pkey primary key (id),
    constraint waitlist_email_key unique (email)
  );
```

#### Paddle Customers Table

```sql
create table
  public.customers (
    customer_id text not null,
    email text not null,
    created_at timestamp with time zone not null default now(),
    updated_at timestamp with time zone not null default now(),
    constraint customers_pkey primary key (customer_id)
  );
```

#### Subscriptions Table

```sql
create table
  public.subscriptions (
    subscription_id text not null,
    subscription_status text not null,
    price_id text null,
    product_id text null,
    scheduled_change text null,
    customer_id text not null,
    created_at timestamp with time zone not null default now(),
    updated_at timestamp with time zone not null default now(),
    constraint subscriptions_pkey primary key (subscription_id),
    constraint public_subscriptions_customer_id_fkey foreign key (customer_id) references customers (customer_id)
  );
```

## Using Supabase Client

PreLaunch includes preconfigured clients for interacting with Supabase:

```typescript
// In client-side components
import { createBrowserClient } from '@/libs/supabase';

export default function Component() {
  const supabase = createBrowserClient();
  
  async function fetchData() {
    const { data, error } = await supabase
      .from('waitlist')
      .select('*');
    
    // Process data...
  }
  
  // ...
}
```

```typescript
// In server components
import { createClient } from '@/libs/supabase';

export default async function ServerComponent() {
  const supabase = await createClient();
  
  const { data, error } = await supabase
    .from('waitlist')
    .select('*');
  
  // Process data...
}
```

## Authentication Configuration

PreLaunch uses NextAuth.js for user authentication. The configuration is in the `libs/next-auth.ts` file.

Multiple authentication methods are supported:
- Email/password authentication
- Google OAuth
- GitHub OAuth

## Payment Integration

### Paddle Configuration

1. Create a [Paddle](https://paddle.com/) account
2. Configure Paddle environment variables in your `.env.local` file:
   ```
   PADDLE_SANDBOX=true
   PADDLE_API_KEY=your-api-key-here
   PADDLE_NOTIFICATION_WEBHOOK_SECRET=your-webhook-secret-here
   NEXT_PUBLIC_PADDLE_CLIENT_TOKEN=your-paddle-client-token-here
   ```

### Typeform Integration

1. Create a [Typeform](https://www.typeform.com/) account
2. Configure related environment variables:
   ```
   TYPEFORM_ACCESS_TOKEN=your_typeform_access_token
   TYPEFORM_VOTE_FORM_ID=your_vote_form_id
   TYPEFORM_SUGGESTION_FORM_ID=your_suggestion_form_id
   ```

## Project Structure

```
├── app/                  # Next.js App Router pages
│   ├── api/              # API routes
│   ├── blog/             # Blog pages and content
│   ├── dashboard/        # User dashboard
│   ├── pricing/          # Pricing page
│   ├── checkout/         # Checkout flow
│   └── ...               # Other pages
├── components/           # React components
│   ├── analytics/        # Analytics-related components
│   ├── landing/          # Landing page components
│   ├── ui/               # UI component library
│   ├── checkout/         # Checkout components
│   ├── emails/           # Email template components
│   └── ...               # Other components
├── libs/                 # Utility libraries
│   ├── paddle/           # Paddle payment integration
│   ├── supabase/         # Supabase client and functionalities
│   ├── next-auth.ts      # NextAuth configuration
│   ├── resend.ts         # Email sending functionality
│   └── ...               # Other function libraries
├── locales/              # Internationalization translation files
│   ├── en/               # English translations
│   └── zh/               # Chinese translations
├── models/               # Data models
├── public/               # Static assets
├── styles/               # Global styles
├── hooks/                # Custom React hooks
└── types/                # TypeScript type definitions
```

## Troubleshooting

<AccordionGroup>
  <Accordion title='Next.js Hot Reload Not Working'>
    Try clearing the `.next` folder and restarting the development server:
    ```bash
    rm -rf .next
    npm run dev
    ```
  </Accordion>

  <Accordion title='Supabase Connection Errors'>
    Check that your Supabase URL and key are correct. Make sure your IP address is not blocked by Supabase and that the database tables are correctly created.
  </Accordion>
  
  <Accordion title='Internationalization Issues'>
    If internationalization is not working, check the `middleware.ts` file and the `app/[locale]` directory structure.
  </Accordion>
</AccordionGroup>

## Deployment

### Vercel Deployment

1. Push your code to a GitHub repository
2. Create a new project on [Vercel](https://vercel.com/)
3. Import your GitHub repository
4. Add the necessary environment variables
5. Click deploy

### Other Platforms

PreLaunch can also be deployed to Netlify, Railway, or any other host that supports Next.js. Make sure to set all the necessary environment variables.

## Common Development Tasks

### Adding a New Page

Add a new directory and page component in the `app/[locale]` directory:

```tsx
// app/[locale]/new-page/page.tsx
export default function NewPage() {
  return (
    <div>
      <h1>New Page</h1>
      <p>This is the content of a new page</p>
    </div>
  );
}
```

### Adding New Translations

Add new translation keys in the appropriate files in the `locales/{language}` directory:

```json
// locales/en/common.json
{
  "newKey": "New translation text"
}
```

```json
// locales/zh/common.json
{
  "newKey": "新的翻译文本"
}
```
